<hr class="mt-0" />
<div class="row px-3">
  <label [attr.for]="'income-type-income'"
    class="col-md-3 control-label"
    title="Type of Asset">Type of Asset</label>
  <label [attr.for]="'income-monthly'"
    class="col-md-2 control-label"
    title="Current Value">Current Value</label>
  <label [attr.for]="'income-verification'"
    class="col-md-3 control-label"
    title="Verification">Verification</label>
  <label [attr.for]="'income-group-member'"
    class="col-md-3 control-label"
    title="Asset Owner">Asset Owner</label>
</div>
<fieldset *ngFor="let asset of models; let i=index"
  class="deg-repeat repeat rel deg-1">
  <input type="hidden"
    id="s-id-{{i}}"
    name="asset-id-1"
    value="0" />
  <div class="pad1 pb-0">
    <div class="row">
      <div class="col-md-3 pr-0">
        <app-generic-text-input [NGMaxLength]="120"
          [isRequired]="isRepeaterRowRequired(i)"
          [(ngModel)]="asset.assetType"
          (ngModelChange)="asset.assetType = $event; onChangeCallback(models);"
          [isInvalid]="isModelErrorsItemInvalid(i, 'assetType')"
          [isDisabled]="isReadOnly"
          [cacheInnerValue]="getInitialModelValue(asset.id, 'assetType')"></app-generic-text-input>
      </div>
      <div class="input-group col-md-2 pr-0 flex-nowrap">
        <div class="input-group-prepend"><span class="input-group-text">$</span>
        </div>
        <app-currency-input class="w-100 last"
          [(ngModel)]="asset.currentValue"
          [isRequired]="isRepeaterRowRequired(i)"
          (ngModelChange)="asset.currentValue = $event; onChangeCallback(models); calculateTotal(this.models);"
          [errorIndicator]="isModelErrorsItemInvalid(i, 'currentValue')"
          [cacheInnerValue]="getInitialModelValue(asset.id, 'currentValue')"
          [isReadOnly]="isReadOnly"
          [NGMaxLength]="10"></app-currency-input>
      </div>
      <div class="col-md-3 pr-0">
        <app-select [(ngModel)]="asset.verificationTypeId"
          (ngModelChange)="asset.verificationTypeId = $event; onChangeCallback(models);"
          [isInvalid]="isModelErrorsItemInvalid(i, 'assetVerificationTypeId')"
          [isIdString]="true"
          [isRequired]="isRepeaterRowRequired(i)"
          [dropDownList]="verificationDrop"
          [isReadOnly]="isReadOnly"
          [cacheInnerValue]="getInitialModelValue(asset.id, 'verificationTypeId')"></app-select>
      </div>
      <div class="col-md-3 pr-0">
        <app-select [(ngModel)]="asset.assetOwner"
          (ngModelChange)="asset.assetOwner = $event; onChangeCallback(models);"
          [isInvalid]="isModelErrorsItemInvalid(i, 'assetOwner')"
          [isRequired]="isRepeaterRowRequired(i)"
          [dropDownList]="assetOwnerDrop"
          [isReadOnly]="isReadOnly"
          [cacheInnerValue]="getInitialModelValue(asset.id, 'assetOwner')"></app-select>
      </div>
      <div class="col-md-1">
        <button class="btn btn-add"
          [disabled]="isReadOnly"
          (click)="deleteFromRepeater(asset); calculateTotal(this.models);"><i class="fa fa-trash-alt"
            title="delete"></i></button>
      </div>
    </div>
  </div>
</fieldset>

<div class="row pt-3 px-3">
  <div class="col-md-5 add-holder">
    <div class="row">
      <div class="col-md-6 p-0"><label class="control-label right">Total Financial Assets</label></div>
      <div class="input-group col-md-6 flex-nowrap">
        <div class="input-group-prepend"><span class="input-group-text">$</span>
        </div>
        <app-numerical-input class="w-100 last"
          [ngModel]="totalValue"
          [isMoney]="true"
          [isReadOnly]="true"></app-numerical-input>
      </div>
    </div>
  </div>
  <div class="tright col-md-7 add-holder">
    <button class="btn btn-sm btn-add add-deg"
      [disabled]="isReadOnly"
      (click)="addToRepeater()">+ &nbsp; Add Asset</button>
  </div>
</div>
